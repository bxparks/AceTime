<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AceTime: ace_time::basic::Transition Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AceTime
   &#160;<span id="projectnumber">1.4</span>
   </div>
   <div id="projectbrief">Date and time classes for Arduino that support timezones from the TZ Database, and a system clock that can synchronize from an NTP server or an RTC chip.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>ace_time</b></li><li class="navelem"><b>basic</b></li><li class="navelem"><a class="el" href="structace__time_1_1basic_1_1Transition.html">Transition</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="structace__time_1_1basic_1_1Transition-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ace_time::basic::Transition Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Data structure that defines the start of a specific UTC offset as described by the matching ZoneEra and its ZoneRule for a given year.  
 <a href="structace__time_1_1basic_1_1Transition.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="BasicZoneProcessor_8h_source.html">BasicZoneProcessor.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for ace_time::basic::Transition:</div>
<div class="dyncontent">
<div class="center"><img src="structace__time_1_1basic_1_1Transition__coll__graph.png" border="0" usemap="#ace__time_1_1basic_1_1Transition_coll__map" alt="Collaboration graph"/></div>
<map name="ace__time_1_1basic_1_1Transition_coll__map" id="ace__time_1_1basic_1_1Transition_coll__map">
<area shape="rect" title="Data structure that defines the start of a specific UTC offset as described by the matching ZoneEra a..." alt="" coords="112,109,307,136"/>
<area shape="rect" href="classace__time_1_1basic_1_1ZoneRuleBroker.html" title="Data broker for accessing ZoneRule." alt="" coords="5,5,200,47"/>
<area shape="rect" href="classace__time_1_1basic_1_1ZoneEraBroker.html" title="Data broker for accessing ZoneEra." alt="" coords="224,5,411,47"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a833fc4b15af0eb2dc8b8ed679bceb41b"><td class="memItemLeft" align="right" valign="top"><a id="a833fc4b15af0eb2dc8b8ed679bceb41b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structace__time_1_1basic_1_1Transition.html#a833fc4b15af0eb2dc8b8ed679bceb41b">log</a> () const</td></tr>
<tr class="memdesc:a833fc4b15af0eb2dc8b8ed679bceb41b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used only for debugging. <br /></td></tr>
<tr class="separator:a833fc4b15af0eb2dc8b8ed679bceb41b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a94cf9a8357c67aa1bd336f66755a9b2c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classace__time_1_1basic_1_1ZoneEraBroker.html">ZoneEraBroker</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structace__time_1_1basic_1_1Transition.html#a94cf9a8357c67aa1bd336f66755a9b2c">era</a></td></tr>
<tr class="memdesc:a94cf9a8357c67aa1bd336f66755a9b2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The ZoneEra that matched the given year.  <a href="structace__time_1_1basic_1_1Transition.html#a94cf9a8357c67aa1bd336f66755a9b2c">More...</a><br /></td></tr>
<tr class="separator:a94cf9a8357c67aa1bd336f66755a9b2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad70ac2546926652bd3fa20cb52d72d16"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classace__time_1_1basic_1_1ZoneRuleBroker.html">ZoneRuleBroker</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structace__time_1_1basic_1_1Transition.html#ad70ac2546926652bd3fa20cb52d72d16">rule</a></td></tr>
<tr class="memdesc:ad70ac2546926652bd3fa20cb52d72d16"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Zone transition rule that matched for the the given year.  <a href="structace__time_1_1basic_1_1Transition.html#ad70ac2546926652bd3fa20cb52d72d16">More...</a><br /></td></tr>
<tr class="separator:ad70ac2546926652bd3fa20cb52d72d16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51b6a6da0be1647e1fa9702270beebca"><td class="memItemLeft" align="right" valign="top"><a id="a51b6a6da0be1647e1fa9702270beebca"></a>
acetime_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structace__time_1_1basic_1_1Transition.html#a51b6a6da0be1647e1fa9702270beebca">startEpochSeconds</a></td></tr>
<tr class="memdesc:a51b6a6da0be1647e1fa9702270beebca"><td class="mdescLeft">&#160;</td><td class="mdescRight">The calculated transition time of the given rule. <br /></td></tr>
<tr class="separator:a51b6a6da0be1647e1fa9702270beebca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a124381c8110113623dfa676885ff4331"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structace__time_1_1basic_1_1Transition.html#a124381c8110113623dfa676885ff4331">offsetMinutes</a></td></tr>
<tr class="memdesc:a124381c8110113623dfa676885ff4331"><td class="mdescLeft">&#160;</td><td class="mdescRight">The total effective UTC offset minutes at the start of transition, <em>including</em> DST offset.  <a href="structace__time_1_1basic_1_1Transition.html#a124381c8110113623dfa676885ff4331">More...</a><br /></td></tr>
<tr class="separator:a124381c8110113623dfa676885ff4331"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a261c010379de16856415a5d675395d24"><td class="memItemLeft" align="right" valign="top"><a id="a261c010379de16856415a5d675395d24"></a>
int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structace__time_1_1basic_1_1Transition.html#a261c010379de16856415a5d675395d24">deltaMinutes</a></td></tr>
<tr class="memdesc:a261c010379de16856415a5d675395d24"><td class="mdescLeft">&#160;</td><td class="mdescRight">The deltaMinutes from "standard time" at the start of transition. <br /></td></tr>
<tr class="separator:a261c010379de16856415a5d675395d24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81474f9806382bfa270e319c58a68a95"><td class="memItemLeft" align="right" valign="top"><a id="a81474f9806382bfa270e319c58a68a95"></a>
int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structace__time_1_1basic_1_1Transition.html#a81474f9806382bfa270e319c58a68a95">yearTiny</a></td></tr>
<tr class="memdesc:a81474f9806382bfa270e319c58a68a95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Year of the <a class="el" href="structace__time_1_1basic_1_1Transition.html" title="Data structure that defines the start of a specific UTC offset as described by the matching ZoneEra a...">Transition</a>. <br /></td></tr>
<tr class="separator:a81474f9806382bfa270e319c58a68a95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72c6b83ffa20cefe2a4fbba806cfd89e"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structace__time_1_1basic_1_1Transition.html#a72c6b83ffa20cefe2a4fbba806cfd89e">month</a></td></tr>
<tr class="memdesc:a72c6b83ffa20cefe2a4fbba806cfd89e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Month of the transition.  <a href="structace__time_1_1basic_1_1Transition.html#a72c6b83ffa20cefe2a4fbba806cfd89e">More...</a><br /></td></tr>
<tr class="separator:a72c6b83ffa20cefe2a4fbba806cfd89e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32036a045f41089f421c447040cc5c9d"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structace__time_1_1basic_1_1Transition.html#a32036a045f41089f421c447040cc5c9d">abbrev</a> [<a class="el" href="structace__time_1_1basic_1_1Transition.html#a39d2a4e51aec03a856d6228251afd060">kAbbrevSize</a>]</td></tr>
<tr class="memdesc:a32036a045f41089f421c447040cc5c9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The calculated effective time zone abbreviation, e.g.  <a href="structace__time_1_1basic_1_1Transition.html#a32036a045f41089f421c447040cc5c9d">More...</a><br /></td></tr>
<tr class="separator:a32036a045f41089f421c447040cc5c9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a39d2a4e51aec03a856d6228251afd060"><td class="memItemLeft" align="right" valign="top"><a id="a39d2a4e51aec03a856d6228251afd060"></a>
static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structace__time_1_1basic_1_1Transition.html#a39d2a4e51aec03a856d6228251afd060">kAbbrevSize</a> = 6 + 1</td></tr>
<tr class="memdesc:a39d2a4e51aec03a856d6228251afd060"><td class="mdescLeft">&#160;</td><td class="mdescRight">Longest abbreviation currently seems to be 5 characters (<a href="https://www.timeanddate.com/time/zones/">https://www.timeanddate.com/time/zones/</a>) but the TZ database spec says that abbreviations are 3 to 6 characters (<a href="https://data.iana.org/time-zones/theory.html#abbreviations">https://data.iana.org/time-zones/theory.html#abbreviations</a>), so use 6 as the maximum. <br /></td></tr>
<tr class="separator:a39d2a4e51aec03a856d6228251afd060"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Data structure that defines the start of a specific UTC offset as described by the matching ZoneEra and its ZoneRule for a given year. </p>
<p>If the ZoneEra does not have a ZoneRule, then the <a class="el" href="structace__time_1_1basic_1_1Transition.html" title="Data structure that defines the start of a specific UTC offset as described by the matching ZoneEra a...">Transition</a> is defined by the start date of the ZoneEra.</p>
<p>The 'era' and 'rule' variables' intermediate values calculated during the init() phase. They are used to calculate the 'yearTiny', 'startEpochSeconds', 'offsetMinutes', 'deltaMinutes', and 'abbrev' parameters which are used during findMatch() lookup. This separation helps in moving the ZoneInfo and ZonePolicy data structures into PROGMEM.</p>
<p>Ordering of fields optimized along 4-byte boundaries to help 32-bit processors without making the program size bigger for 8-bit processors. </p>

<p class="definition">Definition at line <a class="el" href="BasicZoneProcessor_8h_source.html#l00055">55</a> of file <a class="el" href="BasicZoneProcessor_8h_source.html">BasicZoneProcessor.h</a>.</p>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="a32036a045f41089f421c447040cc5c9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32036a045f41089f421c447040cc5c9d">&#9670;&nbsp;</a></span>abbrev</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char ace_time::basic::Transition::abbrev[<a class="el" href="structace__time_1_1basic_1_1Transition.html#a39d2a4e51aec03a856d6228251afd060">kAbbrevSize</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The calculated effective time zone abbreviation, e.g. </p>
<p>"PST" or "PDT". When the <a class="el" href="structace__time_1_1basic_1_1Transition.html" title="Data structure that defines the start of a specific UTC offset as described by the matching ZoneEra a...">Transition</a> is initially created using createTransition(), abbrev[0] is set to ZoneRule.letter (to avoid potentially another lookup in PROGMEM). That 'letter' is used later in the init() to generate the correct abbreviation which will replace the 'letter' in here. </p>

<p class="definition">Definition at line <a class="el" href="BasicZoneProcessor_8h_source.html#l00113">113</a> of file <a class="el" href="BasicZoneProcessor_8h_source.html">BasicZoneProcessor.h</a>.</p>

</div>
</div>
<a id="a94cf9a8357c67aa1bd336f66755a9b2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94cf9a8357c67aa1bd336f66755a9b2c">&#9670;&nbsp;</a></span>era</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classace__time_1_1basic_1_1ZoneEraBroker.html">ZoneEraBroker</a> ace_time::basic::Transition::era</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The ZoneEra that matched the given year. </p>
<p>NonNullable.</p>
<p>This field is used only during the init() phase, not during the findMatch() phase. </p>

<p class="definition">Definition at line <a class="el" href="BasicZoneProcessor_8h_source.html#l00070">70</a> of file <a class="el" href="BasicZoneProcessor_8h_source.html">BasicZoneProcessor.h</a>.</p>

</div>
</div>
<a id="a72c6b83ffa20cefe2a4fbba806cfd89e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72c6b83ffa20cefe2a4fbba806cfd89e">&#9670;&nbsp;</a></span>month</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ace_time::basic::Transition::month</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Month of the transition. </p>
<p>Copied from ZoneRule.inMonth() if it exists or set to 1 if ZoneRule is null (indicating that the ZoneEra represents a fixed offset for the entire year). </p>

<p class="definition">Definition at line <a class="el" href="BasicZoneProcessor_8h_source.html#l00104">104</a> of file <a class="el" href="BasicZoneProcessor_8h_source.html">BasicZoneProcessor.h</a>.</p>

</div>
</div>
<a id="a124381c8110113623dfa676885ff4331"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a124381c8110113623dfa676885ff4331">&#9670;&nbsp;</a></span>offsetMinutes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t ace_time::basic::Transition::offsetMinutes</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The total effective UTC offset minutes at the start of transition, <em>including</em> DST offset. </p>
<p>(Maybe rename this effectiveOffsetMinutes?) The DST offset is stored at deltaMinutes. </p>

<p class="definition">Definition at line <a class="el" href="BasicZoneProcessor_8h_source.html#l00091">91</a> of file <a class="el" href="BasicZoneProcessor_8h_source.html">BasicZoneProcessor.h</a>.</p>

</div>
</div>
<a id="ad70ac2546926652bd3fa20cb52d72d16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad70ac2546926652bd3fa20cb52d72d16">&#9670;&nbsp;</a></span>rule</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classace__time_1_1basic_1_1ZoneRuleBroker.html">ZoneRuleBroker</a> ace_time::basic::Transition::rule</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The Zone transition rule that matched for the the given year. </p>
<p>Set to nullptr if the RULES column is '-' or 'hh:mm'. The fixed DST offset placed in deltaOffset. Two examples of such a timezone isEurope/Istanbul and America/Argentina/San_Luis.</p>
<p>This field is used only during the init() phase, not during the findMatch() phase. </p>

<p class="definition">Definition at line <a class="el" href="BasicZoneProcessor_8h_source.html#l00081">81</a> of file <a class="el" href="BasicZoneProcessor_8h_source.html">BasicZoneProcessor.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>/home/brian/src/AceTime/src/ace_time/<a class="el" href="BasicZoneProcessor_8h_source.html">BasicZoneProcessor.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
