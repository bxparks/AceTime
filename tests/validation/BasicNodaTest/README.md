# BasicNodaTest

This unit test compares the DST transitions calculated by the
`BasicZoneProcessor` class (which uses the `zonedb` data files) with the
`validation_data.cpp` file generated by the `tools/compare_noda/Program.cs` C#
program using [Noda Time](https://nodatime.org/).

## Running the Test

The `compare_noda` tool generates about 199,000 data points spanning the year
2000 to 2050. It is too large to run on any Arduino board that I am aware of,
including the ESP32. However it does run on a Linux machine using the
[EpoxyDuino](https://github.com/bxparks/EpoxyDuino) adapter layer.

Assuming that you have `g++` and `make` installed, just type:
```
$ make clean
$ make

$ make runtests
TestRunner started on 266 test(s).
Test BasicTransitionTest_Africa_Abidjan passed.
...
Test BasicTransitionTest_Pacific_Wallis passed.
Test BasicTransitionTest_WET passed.
TestRunner duration: 1.200 seconds.
TestRunner summary: 266 passed, 0 failed, 0 skipped, 0 timed out, out of 268 test(s).

$ make clean
```

## Noda Time Version

The TZ Database version used by the `compare_noda` program and the
version that generated the `zonedbx` files must match for this unit test to
succeed. Noda Time 3.0.5 seems to be using TZDB 2021a.
